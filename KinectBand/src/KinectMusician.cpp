/*
 *  KinectMusician.cpp
 *  KinectBand
 *
 *  Created by Paulo Barcelos on 7/10/11.
 *  Copyright 2011 paulobarcelos.com. All rights reserved.
 *
 */

#include "KinectMusician.h"

///////////////////////////////////////////////////////////////////////////////////
// Constructor --------------------------------------------------------------------
///////////////////////////////////////////////////////////////////////////////////
KinectMusician::KinectMusician(){	
	depthGenerator = NULL;
	user = NULL;
	isTracked = false;
}
///////////////////////////////////////////////////////////////////////////////////
// Destructor ---------------------------------------------------------------------
///////////////////////////////////////////////////////////////////////////////////
KinectMusician::~KinectMusician(){	
	if(depthGenerator != NULL) delete depthGenerator;
	if(user != NULL) delete user;
}
///////////////////////////////////////////////////////////////////////////////////
// setup -------------------------------------------------------------------------
///////////////////////////////////////////////////////////////////////////////////
void KinectMusician::setup(ofxDepthGenerator* depthGenerator){	
	this->depthGenerator = depthGenerator;
}
///////////////////////////////////////////////////////////////////////////////////
// update -------------------------------------------------------------------------
///////////////////////////////////////////////////////////////////////////////////
void KinectMusician::update(ofxTrackedUser* user){
	if(this->user != user){
		if(user == NULL) stop();
		else start(user);
	}
}
///////////////////////////////////////////////////////////////////////////////////
// stop ----------------------------------------------------------------------
///////////////////////////////////////////////////////////////////////////////////
void KinectMusician::stop(){	
	user = NULL;
	isTracked = false;
}
///////////////////////////////////////////////////////////////////////////////////
// start ----------------------------------------------------------------------
///////////////////////////////////////////////////////////////////////////////////
void KinectMusician::start(ofxTrackedUser* user){	
	this->user = user;
	isTracked = true;
}